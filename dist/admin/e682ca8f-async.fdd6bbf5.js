(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_unfazed-admin"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_unfazed-admin"]||[]).push([["e682ca8f"],{"34f7016a":function(e,s,a){a.d(s,"__esModule",{value:!0}),a.e(s,{default:function(){return q;}});var l=a("777fffbe"),r=a("c7b9d8d1"),t=a("114dd8f1"),n=a("4d9fb674"),d=l._(n),i=a("d4700fa7"),o=l._(i),c=a("b544a829"),u=l._(c),h=a("3d364aee"),p=l._(h),g=a("588c7a28"),f=l._(g),m=a("f95f629b"),x=l._(m),j=a("888883d1"),v=l._(j),w=a("5ba59a0e"),b=l._(w),y=a("1d50c4f9"),_=l._(y),k=a("57e91b03"),z=l._(k),N=a("090daeff"),C=a("cf01380e");let S=(0,a("fa122ab9").createStyles)(({token:e})=>({main:{width:"368px",margin:"0 auto",h3:{marginBottom:"20px",fontSize:"16px"}},password:{marginBottom:"24px",".ant-form-item-explain":{display:"none"}},getCaptcha:{display:"block",width:"100%"},footer:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},submit:{width:"50%"},success:{transition:"color 0.3s",color:e.colorSuccess},warning:{transition:"color 0.3s",color:e.colorWarning},error:{transition:"color 0.3s",color:e.colorError},"progress-pass > .progress":{".ant-progress-bg":{backgroundColor:e.colorWarning}}})),F=u.default.Item,{Option:I}=_.default,T={ok:"success",pass:"normal",poor:"exception"},q=()=>{let e;let{styles:s}=S(),[a,l]=(0,N.useState)(0),[n,i]=(0,N.useState)(!1),[c,h]=(0,N.useState)("86"),[g,m]=(0,N.useState)(!1),j={ok:(0,r.jsx)("div",{className:s.success,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u5F3A"})}),pass:(0,r.jsx)("div",{className:s.warning,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u4E2D"})}),poor:(0,r.jsx)("div",{className:s.error,children:(0,r.jsx)("span",{children:"\u5F3A\u5EA6\uFF1A\u592A\u77ED"})})},[w]=u.default.useForm();(0,N.useEffect)(()=>()=>{clearInterval(e);},[e]);let y=()=>{let e=w.getFieldValue("password");return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor";},{loading:k,run:q}=(0,t.useRequest)(C.register,{manual:!0,onSuccess:(e,s)=>{0===e.code||"ok"===e.status?(f.default.success("\u6CE8\u518C\u6210\u529F\uFF01"),t.history.push({pathname:`/user/register-result?account=${s[0].mail}`})):f.default.error(e.message||"\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");},onError:e=>{console.error("\u6CE8\u518C\u5931\u8D25:",e),f.default.error("\u6CE8\u518C\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01");}});return(0,r.jsxs)("div",{className:s.main,children:[(0,r.jsx)("h3",{children:"\u6CE8\u518C"}),(0,r.jsxs)(u.default,{form:w,name:"UserRegister",onFinish:e=>{q(e);},children:[(0,r.jsx)(F,{name:"email",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740!"},{type:"email",message:"\u90AE\u7BB1\u5730\u5740\u683C\u5F0F\u9519\u8BEF!"}],children:(0,r.jsx)(p.default,{size:"large",placeholder:"\u90AE\u7BB1"})}),(0,r.jsx)(x.default,{getPopupContainer:e=>(null==e?void 0:e.parentNode)?e.parentNode:e,content:n&&(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[j[y()],(()=>{let e=w.getFieldValue("password"),a=y();return(null==e?void 0:e.length)?(0,r.jsx)("div",{className:s[`progress-${a}`],children:(0,r.jsx)(v.default,{status:T[a],strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1})}):null;})(),(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:"\u8BF7\u81F3\u5C11\u8F93\u5165 6 \u4E2A\u5B57\u7B26\u3002\u8BF7\u4E0D\u8981\u4F7F\u7528\u5BB9\u6613\u88AB\u731C\u5230\u7684\u5BC6\u7801\u3002"})})]}),overlayStyle:{width:240},placement:"right",open:n,children:(0,r.jsx)(F,{name:"password",className:w.getFieldValue("password")&&w.getFieldValue("password").length>0&&s.password,rules:[{validator:(e,s)=>{let a=Promise;return s?(n||i(!!s),m(!g),s.length<6)?a.reject(""):a.resolve():(i(!!s),a.reject("\u8BF7\u8F93\u5165\u5BC6\u7801!"));}}],children:(0,r.jsx)(p.default,{size:"large",type:"password",placeholder:"\u81F3\u5C116\u4F4D\u5BC6\u7801\uFF0C\u533A\u5206\u5927\u5C0F\u5199"})})}),(0,r.jsx)(F,{name:"confirm",rules:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801"},{validator:(e,s)=>{let a=Promise;return s&&s!==w.getFieldValue("password")?a.reject("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u5339\u914D!"):a.resolve();}}],children:(0,r.jsx)(p.default,{size:"large",type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801"})}),(0,r.jsx)(F,{name:"mobile",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7!"},{pattern:/^\d{11}$/,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF!"}],children:(0,r.jsxs)(z.default.Compact,{style:{width:"100%"},children:[(0,r.jsxs)(_.default,{size:"large",value:c,onChange:e=>{h(e);},style:{width:"30%"},children:[(0,r.jsx)(I,{value:"86",children:"+86"}),(0,r.jsx)(I,{value:"87",children:"+87"})]}),(0,r.jsx)(p.default,{size:"large",placeholder:"\u624B\u673A\u53F7"})]})}),(0,r.jsxs)(b.default,{gutter:8,children:[(0,r.jsx)(o.default,{span:16,children:(0,r.jsx)(F,{name:"captcha",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801!"}],children:(0,r.jsx)(p.default,{size:"large",placeholder:"\u9A8C\u8BC1\u7801"})})}),(0,r.jsx)(o.default,{span:8,children:(0,r.jsx)(d.default,{size:"large",disabled:!!a,className:s.getCaptcha,onClick:()=>{let s=59;l(59),e=window.setInterval(()=>{l(s-=1),0===s&&clearInterval(e);},1e3);},children:a?`${a} s`:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})})]}),(0,r.jsx)(F,{children:(0,r.jsxs)("div",{className:s.footer,children:[(0,r.jsx)(d.default,{size:"large",loading:k,className:s.submit,type:"primary",htmlType:"submit",children:(0,r.jsx)("span",{children:"\u6CE8\u518C"})}),(0,r.jsx)(t.Link,{to:"/admin/user/login",children:(0,r.jsx)("span",{children:"\u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55"})})]})})]})]});};}}]);
//# sourceMappingURL=e682ca8f-async.fdd6bbf5.js.map