(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_unfazed-admin"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_unfazed-admin"]||[]).push([["6069af14"],{b77fa582:function(e,t,o){"use strict";o.d(t,"__esModule",{value:!0}),o.d(t,"default",{enumerable:!0,get:function(){return u;}});var n=o("777fffbe"),r=o("c7b9d8d1"),l=o("114dd8f1"),i=n._(o("2b507379")),a=o("090daeff"),s=o("df895261"),u=()=>{let e=(0,l.useLocation)(),{initialState:t}=(0,l.useModel)("@@initialState"),[o,n]=(0,a.useState)(!0),[u,d]=(0,a.useState)(null),[f,c]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let o=()=>{try{n(!0),c(null),console.log("Loading route for path:",e.pathname);let o=null==t?void 0:t.routeList;if(!o||0===o.length){if(console.warn("Route list not available in global state"),["/user/login","/oauth/login","/exception","/result"].some(t=>e.pathname.startsWith(t)))throw Error("Route list not available, but this should be handled by static routes");l.history.replace("/user/login");return;}if("/"===e.pathname){let e=t=>{for(let o of t)if(o.routes&&o.routes.length>0){let t=e(o.routes);if(t)return t;}else if(o.path&&o.component)return o.path;return null;},t=e(o);if(t){console.log("Redirecting from root to:",t),l.history.replace(t);return;}throw Error("No available routes for redirection");}let r=(e,t)=>{for(let o of e){if(o.path===t)return o;if(o.routes&&o.routes.length>0){let e=r(o.routes,t);if(e)return e;}}return null;},i=r(o,e.pathname);if(!i){l.history.replace("/exception/404");return;}console.log("Found route config:",i),d(i);}catch(e){console.error("Dynamic route loading error:",e),c(e instanceof Error?e.message:"Unknown error occurred");}finally{n(!1);}};if(null==t?void 0:t.routeList){o();return;}{n(!0);let e=setTimeout(()=>{(null==t?void 0:t.routeList)?o():(c("Failed to load route configuration from global state"),n(!1));},100);return()=>clearTimeout(e);}},[e.pathname,null==t?void 0:t.routeList]),o)?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,r.jsx)(i.default,{size:"large",tip:"Loading..."})}):f?(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh",flexDirection:"column"},children:[(0,r.jsx)("h3",{children:"Error Loading Route"}),(0,r.jsx)("p",{children:f})]}):(()=>{if(!u||u.path!==e.pathname)return(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:(0,r.jsx)(i.default,{size:"large",tip:"Loading..."})});let t=u.name,o=`${u.component}-${u.path}`;switch(u.component){case"ModelAdmin":return(0,r.jsx)(s.ModelAdmin,{modelName:t},o);case"ModelCustom":return(0,r.jsx)(s.ModelCustom,{toolName:t,onBack:()=>window.history.back()},o);default:return(0,r.jsxs)("div",{children:["Unsupported dynamic component: ",u.component]},o);}})();};}}]);
//# sourceMappingURL=6069af14-async.ddf37a86.js.map